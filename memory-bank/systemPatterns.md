# System Patterns: Tab Manager by Schedise

**Date:** [Insert Current Date]

**1. Overall Architecture:** - **Monorepo (Potential):** Consider structuring as a monorepo if the website and extension codebases become complex or share significant logic/components (e.g., using `pnpm workspaces`, `Turborepo`). Currently appears to be a single-package setup primarily for the website. - **Website:** Standard Vite/React SPA (Single Page Application) architecture. - **Extension (Planned):** Typical Chrome Extension architecture: - Manifest File (`manifest.json`) - Background Service Worker (Event handling, core logic) - Popup Page (User interface for quick actions) - Options Page (Configuration) - Content Scripts (If DOM manipulation/interaction on pages is needed - potentially less relevant for a tab manager)

**2. Website Component Structure:** - **Directory Layout:** - `src/pages/`: Top-level route components. - `src/components/`: Reusable UI components (e.g., `Navbar`, `Footer`, `Banner`). - `src/components/ui/`: Base UI primitives (likely from shadcn/ui, e.g., `Button`, `Card`). - `src/lib/`: Utility functions, shared logic (e.g., `cn` for class names). - `src/assets/`: Static assets like images (though often placed in `public/` for Vite). - `public/`: Static assets served directly (e.g., `favicon.ico`, images). - **Component Design:** Follows standard React functional component patterns with hooks. Utilizes composition for building complex UI from smaller parts. - **Styling:** Uses Tailwind CSS utility classes directly in components, potentially augmented by `clsx` or `tailwind-merge` (via `src/lib/utils.ts`) for conditional/merged classes.

**3. Extension Design Patterns (Planned):** - **Event-Driven:** Background service worker responds to browser events (`chrome.tabs.onCreated`, `chrome.tabs.onUpdated`, `chrome.commands.onCommand`, etc.). - **Message Passing:** Communication between different parts of the extension (popup, background, options) using `chrome.runtime.sendMessage` and `chrome.runtime.onMessage`. - **State Management:** - **Local:** Use `chrome.storage.local` for storing user settings, tab group data. - **Sync (Premium):** Use `chrome.storage.sync` for basic cross-device sync (with limitations) or a dedicated backend API for robust synchronization. - **UI State:** Standard React state management (`useState`, `useReducer`) within popup/options pages. - **Modularity:** Break down logic into smaller, reusable functions/modules.

**4. Data Flow (Website):** - Primarily static content rendering. - Data for components like FAQs or feature lists is often hardcoded within the component or imported from a local TS/JS file. - Routing handled by `react-router-dom`.

**5. Data Flow (Extension - Planned):** - **User Action (Popup/Options) -> Message -> Background Script:** User interacts with UI, triggering a message to the background. - **Background Script -> Chrome API:** Background script uses Chrome APIs (`chrome.tabs`, `chrome.tabGroups`) to perform actions. - **Background Script -> Storage:** Background script updates stored data (`chrome.storage`). - **Browser Event -> Background Script:** Browser events (tab creation, update) trigger logic in the background script. - **Storage Change -> UI Update:** Changes in `chrome.storage` trigger updates in popup/options pages (via listeners).

**6. Key Technical Decisions:** - **Vite:** Chosen for fast development and build times. - **React + TypeScript:** Provides a robust and type-safe foundation for UI development. - **Tailwind CSS:** Enables rapid UI development with utility-first classes. - **shadcn/ui:** Offers pre-built, accessible, and customizable components based on Radix UI and Tailwind. - **Manifest V3:** Required for modern Chrome extensions, influencing background script architecture.
